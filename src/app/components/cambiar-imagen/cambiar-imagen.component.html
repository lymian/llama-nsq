<div
  class="modal"
  [ngClass]="{ show: visible }"
  tabindex="-1"
  role="dialog"
  aria-labelledby="modalTitle"
  aria-hidden="true"
  *ngIf="visible"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Encabezado -->
      <div class="modal-header">
        <h3 id="modalTitle" class="modal-title">
          Cambiar imagen del producto #{{ productoId }}
        </h3>
        <button
          type="button"
          class="btn-close"
          aria-label="Cerrar"
          (click)="cerrar()"
        >
          <i class="bi bi-x"></i>
        </button>
      </div>

      <!-- Cuerpo -->
      <div class="modal-body">
        <!-- Input para seleccionar archivo -->
        <div class="form-group">
          <label for="fileInput" class="form-label">Seleccionar imagen</label>
          <input
            type="file"
            id="fileInput"
            accept="image/*"
            (change)="seleccionarArchivo($event)"
            class="form-input"
          />
        </div>

        <!-- Mensaje -->
        <div
          class="message"
          *ngIf="mensaje"
          [ngClass]="{
            'success-message': !mensaje.includes('Error'),
            'error-message': mensaje.includes('Error')
          }"
        >
          <span>{{ mensaje }}</span>
        </div>
      </div>

      <!-- Pie -->
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="cerrar()">
          Cerrar
        </button>
        <button
          type="button"
          class="btn btn-primary"
          (click)="subirImagen()"
          [disabled]="cargando"
        >
          <span
            class="spinner"
            role="status"
            aria-hidden="true"
            *ngIf="cargando"
          ></span>
          {{ cargando ? "Subiendo..." : "Subir Imagen" }}
        </button>
      </div>
    </div>
  </div>
</div>
